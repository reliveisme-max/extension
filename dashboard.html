<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BM Commander Pro</title>
    <!-- CSS Chính -->
    <link rel="stylesheet" href="style.css">
    
    <!-- 1. PHOSPHOR ICONS (Icon đẹp, nét mảnh) -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <!-- 2. SWEETALERT 2 (Thông báo đẹp) -->
    <link href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-dark@4/dark.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.js"></script>
</head>
<body>

    <!-- SIDEBAR -->
    <div class="sidebar">
        <div class="logo">
            <i class="ph-duotone ph-shield-check" style="color: #818cf8;"></i> 
            <span>BM COMMANDER</span>
        </div>
        
        <ul class="menu">
            <li class="active" id="nav-scan">
                <i class="ph-bold ph-squares-four"></i> Quản lý chung
            </li>
            <li id="nav-reg">
                <i class="ph-bold ph-magic-wand"></i> Reg BM Auto
            </li>
            <li class="disabled">
                <i class="ph-bold ph-gear"></i> Cấu hình
            </li>
        </ul>

        <div class="footer-info">
            <p>Version 6.0 Pro</p>
            <p style="opacity: 0.5;">Dev by AI</p>
        </div>
    </div>

    <!-- MAIN CONTENT -->
    <div class="main-content">
        
        <!-- HEADER -->
        <div class="top-bar">
            <!-- Status Badge -->
            <div id="token-status" class="status-badge loading">
                <i class="ph-bold ph-spinner ph-spin"></i> Kết nối...
            </div>

            <!-- User Info -->
            <div class="user-profile">
                <div class="user-text">
                    <span id="user-name">Đang tải...</span>
                    <small>Administrator</small>
                </div>
                <div class="avatar">
                    <i class="ph-bold ph-user"></i>
                </div>
            </div>
        </div>

        <!-- === TAB 1: DASHBOARD === -->
        <div id="tab-scan" class="tab-panel active">
            <!-- Thống kê (Thêm icon cho đẹp) -->
            <div class="stats-grid">
                <div class="card stat-box">
                    <div class="icon-box"><i class="ph-duotone ph-briefcase"></i></div>
                    <div>
                        <h3>Tổng BM</h3>
                        <span id="stat-total">0</span>
                    </div>
                </div>
                <div class="card stat-box success">
                    <div class="icon-box"><i class="ph-duotone ph-check-circle"></i></div>
                    <div>
                        <h3>Đang Hoạt Động</h3>
                        <span id="stat-live">0</span>
                    </div>
                </div>
                <div class="card stat-box danger">
                    <div class="icon-box"><i class="ph-duotone ph-warning-circle"></i></div>
                    <div>
                        <h3>Die / Policy</h3>
                        <span id="stat-die">0</span>
                    </div>
                </div>
                <div class="card stat-box warning">
                    <div class="icon-box"><i class="ph-duotone ph-ghost"></i></div>
                    <div>
                        <h3>Admin Ẩn</h3>
                        <span id="stat-hidden">0</span>
                    </div>
                </div>
            </div>

            <!-- Toolbar -->
            <div class="action-bar card">
                <div class="left-actions">
                    <button id="btn-scan" class="btn btn-primary">
                        <i class="ph-bold ph-arrows-clockwise"></i> Quét Dữ Liệu
                    </button>
                    <div class="search-wrapper">
                        <i class="ph-bold ph-magnifying-glass"></i>
                        <input type="text" id="search-input" placeholder="Tìm kiếm BM...">
                    </div>
                </div>
                
                <div class="right-actions" id="bulk-actions" style="opacity: 0.5; pointer-events: none;">
                    <span class="selected-text">Đã chọn: <b id="selected-count">0</b></span>
                    <button id="btn-bulk-leave" class="btn btn-danger btn-sm">
                        <i class="ph-bold ph-sign-out"></i> Rời Nhanh
                    </button>
                </div>
            </div>

            <!-- Bảng Dữ Liệu -->
            <div class="table-container">
                <table id="bm-table">
                    <thead>
                        <tr>
                            <th width="40" class="center"><input type="checkbox" id="check-all"></th>
                            <th width="30%">Thông tin BM</th>
                            <th width="15%">Trạng thái</th>
                            <th width="15%">Tài sản</th>
                            <th width="15%">Thành viên</th>
                            <th width="25%" class="center">Thao tác</th>
                        </tr>
                    </thead>
                    <tbody><!-- JS Render --></tbody>
                </table>
            </div>
        </div>

        <!-- === TAB 2: REG BM === -->
        <div id="tab-reg" class="tab-panel">
            <div class="reg-layout">
                <!-- Cột Trái: Cấu Hình -->
                <div class="card reg-config">
                    <div class="card-header">
                        <h3><i class="ph-duotone ph-sliders-horizontal"></i> Cấu Hình Reg</h3>
                        <span id="limit-info" class="badge">Check Limit...</span>
                    </div>
                    
                    <div class="form-group">
                        <label>Tên BM Gốc</label>
                        <div class="input-with-icon">
                            <i class="ph-bold ph-tag"></i>
                            <input type="text" id="reg-name" value="BM Agency" placeholder="VD: Ads Pro...">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Số lượng</label>
                            <input type="number" id="reg-qty" value="1" min="1" max="10">
                        </div>
                        <div class="form-group">
                            <label>Múi giờ</label>
                            <select id="reg-timezone">
                                <option value="Asia/Ho_Chi_Minh">GMT+7 VN</option>
                                <option value="America/Los_Angeles">GMT-7 US</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Mời Email (Tùy chọn)</label>
                        <div class="input-with-icon">
                            <i class="ph-bold ph-envelope"></i>
                            <input type="text" id="reg-email" placeholder="Nhập email...">
                        </div>
                    </div>

                    <div class="divider"></div>
                    
                    <div class="switch-group">
                        <label class="switch-item">
                            <input type="checkbox" id="reg-random-name" checked>
                            <span>Random tên (+ Số đuôi)</span>
                        </label>
                        <label class="switch-item">
                            <input type="checkbox" id="reg-delay" checked>
                            <span>Delay an toàn (30s-60s)</span>
                        </label>
                    </div>

                    <button id="btn-start-reg" class="btn btn-primary full-width mt-3">
                        <i class="ph-bold ph-play"></i> BẮT ĐẦU CHẠY
                    </button>
                </div>

                <!-- Cột Phải: Logs -->
                <div class="card reg-logs-container">
                    <div class="card-header">
                        <h3><i class="ph-duotone ph-terminal-window"></i> Nhật Ký (Logs)</h3>
                        <button class="btn-icon-small" onclick="document.getElementById('reg-logs').innerHTML=''"><i class="ph-bold ph-trash"></i></button>
                    </div>
                    <div id="reg-logs" class="console-log">
                        <div class="log-line info">> Hệ thống sẵn sàng...</div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- JS MODULES -->
    <script src="js/core.js"></script>
    <script src="js/tab_scan.js"></script>
    <script src="js/tab_action.js"></script>
    <script src="js/tab_reg.js"></script>
    <script src="js/main.js"></script>

</body>
</html>